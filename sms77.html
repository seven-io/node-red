<script type='text/x-red' data-template-name='sms77'>
    <div class='form-row'>
        <label for='node-input-sms77'><i class='fa fa-user'></i> Sms77</label>
        <input id='node-input-sms77'>
    </div>

    <div class='form-row'>
        <label for='node-input-message'><i class='fa fa-edit'></i> Message</label>
        <input id='node-input-message' placeholder='payload'>
    </div>

    <div class='form-row'>
        <label for='node-input-numbers'><i class='fa fa-mobile' style='font-size:160%'></i> Number(s)</label>
        <input id='node-input-numbers' placeholder='topic'>
    </div>

    <div class='form-row'>
        <label for='node-input-from'><i class='fa fa-envelope'></i> From (sender)</label>
        <input id='node-input-from'>
    </div>

    <div class='form-row'>
        <label for='node-input-delay'><i class='fa fa-tachometer'></i> Delay</label>
        <input id='node-input-delay'>
    </div>

    <div class='form-row'>
        <label for='node-input-json'><i class='fa fa-microchip'></i> Return JSON?</label>
        <select id='node-input-json'>
          <option value='true'>True</option>
          <option value='false'>False</option>
        </select>
    </div>

    <div class='form-row'>
        <label for='node-input-name'><i class='fa fa-tag'></i> Name</label>
        <input id='node-input-name' placeholder='Name'>
    </div>
</script>

<script type='text/x-red' data-template-name='sms77Config'>
    <div class='form-row'>
        <label for='node-config-input-apiKey'><i class='fa fa-lock'></i> API Key</label>
        <input type='password' id='node-config-input-apiKey'>
    </div>

    <div class='form-rw'>
        <label for='node-config-input-name'><i class='fa fa-tag'></i> Name</label>
        <input id='node-config-input-name' placeholder='sms77Config'>
    </div>
</script>

<script type='text/x-red' data-help-name='sms77'>
  Send SMS & Text2Speech message(s) using the Sms77 SMS gateway.
  <hr/>
  <p><b>Properties</b></p>
  <code>Message</code> Text to be sent. If left empty it will use <i>msg.payload</i>
  <br/>
  <code>Numbers</code> Comma separated list of mobile numbers. Defaults to <i>msg.topic</i>
  <br/>
  <code>Delay</code> Date/Timestamp for delayed dispatch. Accepts an UNIX timestamp or a date of format yyyy-mm-dd hh:ii eg. 1141511104 or 2016-03-04 23:25:04.


</script>

<script type='text/javascript'>
    RED.nodes.registerType('sms77', {
        align: 'right',
        category: 'mobile',
        color: '#01C965',
        defaults: {
            message: {},
            name: {value: 'sms77'},
            numbers: {},
            sms77: {type: 'sms77Config'},
            delay: {},
            from: {},
            json: {
                value: 'bool',
                label: 'boolean',
                icon: 'red/images/typedInput/bool.png',
                options: ['true', 'false',]
            },
        },
        icon: 'light.png',
        inputs: 1,
        label() {
            return this.name || this.title || 'sms77';
        },
        labelStyle() {
            return this.name ? 'node_label_italic' : '';
        },
        outputs: 1,
    });

    RED.nodes.registerType('sms77Config', {
        category: 'config',
        credentials: {
            apiKey: {type: 'text', required: true},
        },
        defaults: {
            name: {value: 'sms77Config'}
        },
        label() {
            return this.name;
        },
    });
</script>
